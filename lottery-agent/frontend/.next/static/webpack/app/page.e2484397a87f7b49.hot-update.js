"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/connect-widget/connect-widget.tsx":
/*!***********************************************!*\
  !*** ./app/connect-widget/connect-widget.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getShortenedAddress: function() { return /* binding */ getShortenedAddress; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _core_game_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/core/game-context */ \"(app-pages-browser)/./core/game-context.tsx\");\n/* harmony import */ var _core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/core/utils/toast-utils */ \"(app-pages-browser)/./core/utils/toast-utils.ts\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/utils/units.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _connect_widget_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./connect-widget.css */ \"(app-pages-browser)/./app/connect-widget/connect-widget.css\");\n/* __next_internal_client_entry_do_not_use__ getShortenedAddress,default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nconst DYMENSION_CONNECT_URL = \"https://testnet.dymension.xyz\";\nconst DYMENSION_CONNECT_NETWORK_IDS = [\n    \"desmosai_433519-1\"\n];\nconst getShortenedAddress = function(address) {\n    let prefixLetters = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6, suffixLetters = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 4;\n    return \"\".concat(address.slice(0, prefixLetters), \"...\").concat(address.slice(address.length - suffixLetters));\n};\nconst ConnectWidget = ()=>{\n    _s();\n    const iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { hexAddress, contractMessageToExecute, setContractMessageExecuted, setAddresses, setBalance, handleTxResponse } = (0,_core_game_context__WEBPACK_IMPORTED_MODULE_1__.useGame)();\n    const [dymensionConnectOpen, setDymensionConnectOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [dymensionConnectReady, setDymensionConnectReady] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const qrAccount = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n        var _window;\n        return  true && new URLSearchParams((_window = window) === null || _window === void 0 ? void 0 : _window.location.search).get(\"qrAccount\");\n    }, []);\n    const dymensionConnectUrl = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>\"\".concat(DYMENSION_CONNECT_URL, \"/connect\") + \"\".concat(qrAccount ? \"/account/\".concat(qrAccount) : \"\", \"?networkIds=\").concat(DYMENSION_CONNECT_NETWORK_IDS.join(\",\")), [\n        qrAccount\n    ]);\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((message)=>{\n        var _iframeRef_current_contentWindow, _iframeRef_current;\n        return (_iframeRef_current = iframeRef.current) === null || _iframeRef_current === void 0 ? void 0 : (_iframeRef_current_contentWindow = _iframeRef_current.contentWindow) === null || _iframeRef_current_contentWindow === void 0 ? void 0 : _iframeRef_current_contentWindow.postMessage(message, DYMENSION_CONNECT_URL);\n    }, []);\n    const updateTriggerBoundingRect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{\n        var _buttonRef_current;\n        const boundingRect = (_buttonRef_current = buttonRef.current) === null || _buttonRef_current === void 0 ? void 0 : _buttonRef_current.getBoundingClientRect();\n        if (boundingRect) {\n            sendMessage({\n                type: \"setTriggerBoundingRect\",\n                rect: boundingRect\n            });\n        }\n    }, [\n        sendMessage\n    ]);\n    const initModal = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{\n        updateTriggerBoundingRect();\n        sendMessage({\n            type: \"setMenuAlign\",\n            align: \"right\"\n        });\n    }, [\n        sendMessage,\n        updateTriggerBoundingRect\n    ]);\n    const handleWalletError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((param)=>{\n        let { code, walletType, originalError } = param;\n        if (!code) {\n            return;\n        }\n        switch(code){\n            case \"FAILED_INTEGRATE_CHAIN\":\n                var _originalError_message_toLowerCase, _originalError_message;\n                if (originalError === null || originalError === void 0 ? void 0 : (_originalError_message = originalError.message) === null || _originalError_message === void 0 ? void 0 : (_originalError_message_toLowerCase = _originalError_message.toLowerCase()) === null || _originalError_message_toLowerCase === void 0 ? void 0 : _originalError_message_toLowerCase.includes(\"ledger is unsupported\")) {\n                    (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"\".concat(walletType || \"The wallet\", \" is currently not supporting this chain with Ledger.\"));\n                } else {\n                    (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"Failed integrate chain with \".concat(walletType || \"the wallet\"));\n                }\n                break;\n            case \"FAILED_INIT_WALLET\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"Failed init \".concat(walletType || \"the wallet\"));\n                break;\n            case \"KEY_NOT_FOUND\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"Create or import an account in your \".concat(walletType || \"wallet\"));\n                break;\n            case \"NO_OFFLINE_SIGNER\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"\".concat(walletType || \"The wallet\", \" account not detected\"));\n                break;\n            case \"UNSUPPORTED_WALLET\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"\".concat(walletType || \"The selected wallet is\", \" not supported\"));\n                break;\n            case \"UPGRADE_WALLET\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"Please use the recent version of \".concat(walletType || \"the wallet\", \" extension\"));\n                break;\n            case \"WALLET_NOT_CONNECTED\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"No wallet connected for this chain\");\n                break;\n            case \"INSTALL_WALLET\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"\".concat(walletType || \"The\", \" wallet not installed\"));\n                break;\n            case \"UNSUPPORTED_NETWORK\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"Can't link \".concat(walletType || \"the\", \" wallet to the designated network\"));\n                break;\n            case \"ACCOUNTS_ALREADY_REQUESTED\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"Connect to \".concat(walletType || \"the wallet\"));\n                break;\n            case \"REQUEST_REJECTED\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"Connecting to \".concat(walletType || \"the wallet\", \" rejected by the user\"));\n                break;\n            case \"SWITCH_NETWORK\":\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showErrorToast)(\"Switch to this chain in \".concat(walletType || \"the wallet\"));\n                break;\n            case \"UNSUPPORTED_MESSAGE\":\n                if (walletType === \"Quick Auth\") {\n                    (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"Quick Auth session has expired\");\n                } else {\n                    (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"This message not supported by \".concat(walletType || \"the wallet\"));\n                }\n                break;\n            default:\n                (0,_core_utils_toast_utils__WEBPACK_IMPORTED_MODULE_2__.showWarningToast)(\"\".concat(walletType || \"Wallet\", \" connection failed, please try again later\"));\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (contractMessageToExecute) {\n            sendMessage({\n                type: \"executeEthTx\",\n                contract: contractMessageToExecute\n            });\n            setContractMessageExecuted();\n        }\n    }, [\n        contractMessageToExecute,\n        sendMessage,\n        setContractMessageExecuted\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        window.addEventListener(\"scroll\", updateTriggerBoundingRect, true);\n        window.addEventListener(\"resize\", updateTriggerBoundingRect, true);\n        return ()=>{\n            window.removeEventListener(\"scroll\", updateTriggerBoundingRect, true);\n            window.removeEventListener(\"resize\", updateTriggerBoundingRect, true);\n        };\n    }, [\n        updateTriggerBoundingRect\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const handleMessage = (event)=>{\n            if (event.origin !== DYMENSION_CONNECT_URL) {\n                return;\n            }\n            if (event.data.type === \"ready\") {\n                setDymensionConnectReady(true);\n            }\n            if (event.data.type === \"menu-visible\") {\n                setDymensionConnectOpen(event.data.value);\n            }\n            if (event.data.type === \"connect\") {\n                setAddresses(event.data.address, event.data.hexAddress);\n                updateTriggerBoundingRect();\n            }\n            if (event.data.type === \"balances\") {\n                var _event_data_balances_;\n                setBalance(Number((0,ethers__WEBPACK_IMPORTED_MODULE_5__.formatEther)(((_event_data_balances_ = event.data.balances[0]) === null || _event_data_balances_ === void 0 ? void 0 : _event_data_balances_.amount) || \"0\")));\n            }\n            if (event.data.type === \"disconnect\") {\n                setAddresses(\"\", \"\");\n                setBalance(0);\n                updateTriggerBoundingRect();\n            }\n            if (event.data.type === \"tx-response\") {\n                handleTxResponse({\n                    response: event.data.response && JSON.parse(event.data.response),\n                    error: event.data.error && JSON.parse(event.data.error)\n                });\n            }\n            if (event.data.type === \"wallet-error\") {\n                handleWalletError(JSON.parse(event.data.error || \"{}\"));\n            }\n        };\n        window.addEventListener(\"message\", handleMessage);\n        return ()=>window.removeEventListener(\"message\", handleMessage);\n    }, [\n        initModal,\n        setAddresses,\n        sendMessage,\n        setBalance,\n        updateTriggerBoundingRect,\n        handleTxResponse,\n        handleWalletError\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"button connect-wallet-button\",\n                disabled: !dymensionConnectReady,\n                ref: buttonRef,\n                onClick: ()=>{\n                    setDymensionConnectOpen(!dymensionConnectOpen);\n                    updateTriggerBoundingRect();\n                },\n                children: hexAddress ? getShortenedAddress(hexAddress) : \"Connect Wallet\"\n            }, void 0, false, {\n                fileName: \"/Users/pudge1000-7/GolandProjects/rollapp-blueprints/lottery-agent/frontend/app/connect-widget/connect-widget.tsx\",\n                lineNumber: 179,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                ref: iframeRef,\n                onLoad: initModal,\n                style: {\n                    display: dymensionConnectOpen || qrAccount ? \"block\" : \"none\"\n                },\n                allow: \"clipboard-read; clipboard-write; camera\",\n                title: \"dymension-connect\",\n                className: \"dymension-connect-iframe\",\n                src: dymensionConnectUrl\n            }, void 0, false, {\n                fileName: \"/Users/pudge1000-7/GolandProjects/rollapp-blueprints/lottery-agent/frontend/app/connect-widget/connect-widget.tsx\",\n                lineNumber: 190,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(ConnectWidget, \"4ZCWhP6Jei1Kck5GTH1YzzbBvHQ=\", false, function() {\n    return [\n        _core_game_context__WEBPACK_IMPORTED_MODULE_1__.useGame\n    ];\n});\n_c = ConnectWidget;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectWidget);\nvar _c;\n$RefreshReg$(_c, \"ConnectWidget\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb25uZWN0LXdpZGdldC9jb25uZWN0LXdpZGdldC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUU4QztBQUM4QjtBQUN2QztBQUM0QztBQUNuRDtBQUU5QixNQUFNVSx3QkFBd0I7QUFDOUIsTUFBTUMsZ0NBQWdDO0lBQUU7Q0FBcUI7QUFFdEQsTUFBTUMsc0JBQXNCLFNBQUNDO1FBQWlCQyxpRkFBZ0IsR0FBR0MsaUZBQWdCO0lBQ3BGLE9BQU8sR0FBd0NGLE9BQXJDQSxRQUFRRyxLQUFLLENBQUMsR0FBR0YsZ0JBQWUsT0FBbUQsT0FBOUNELFFBQVFHLEtBQUssQ0FBQ0gsUUFBUUksTUFBTSxHQUFHRjtBQUNsRixFQUFFO0FBRUYsTUFBTUcsZ0JBQTBCOztJQUM1QixNQUFNQyxZQUFZWCw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTVksWUFBWVosNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sRUFDRmEsVUFBVSxFQUNWQyx3QkFBd0IsRUFDeEJDLDBCQUEwQixFQUMxQkMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLGdCQUFnQixFQUNuQixHQUFHMUIsMkRBQU9BO0lBQ1gsTUFBTSxDQUFFMkIsc0JBQXNCQyx3QkFBeUIsR0FBR25CLCtDQUFRQSxDQUFDO0lBQ25FLE1BQU0sQ0FBRW9CLHVCQUF1QkMseUJBQTBCLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUVyRSxNQUFNc0IsWUFBWXhCLDhDQUFPQSxDQUFDO1lBRUZ5QjtlQUZRLEtBQzVCLElBQ0EsSUFBSUMsaUJBQWdCRCxVQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVFFLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFQyxHQUFHLENBQUM7T0FBYyxFQUFFO0lBRXJFLE1BQU1DLHNCQUFzQjlCLDhDQUFPQSxDQUMvQixJQUFNLEdBQXlCLE9BQXRCRyx1QkFBc0IsY0FDM0IsR0FBMERDLE9BQXZEb0IsWUFBWSxZQUFzQixPQUFWQSxhQUFjLElBQUcsZ0JBQXNELE9BQXhDcEIsOEJBQThCMkIsSUFBSSxDQUFDLE9BQ2pHO1FBQUVQO0tBQVc7SUFHakIsTUFBTVEsY0FBY2xDLGtEQUFXQSxDQUFDLENBQUNtQztZQUM3QnJCLGtDQUFBQTtnQkFBQUEscUJBQUFBLFVBQVVzQixPQUFPLGNBQWpCdEIsMENBQUFBLG1DQUFBQSxtQkFBbUJ1QixhQUFhLGNBQWhDdkIsdURBQUFBLGlDQUFrQ3dCLFdBQVcsQ0FBQ0gsU0FBUzlCO09BQXdCLEVBQUU7SUFFckYsTUFBTWtDLDRCQUE0QnZDLGtEQUFXQSxDQUFDO1lBQ3JCZTtRQUFyQixNQUFNeUIsZ0JBQWV6QixxQkFBQUEsVUFBVXFCLE9BQU8sY0FBakJyQix5Q0FBQUEsbUJBQW1CMEIscUJBQXFCO1FBQzdELElBQUlELGNBQWM7WUFDZE4sWUFBWTtnQkFBRVEsTUFBTTtnQkFBMEJDLE1BQU1IO1lBQWE7UUFDckU7SUFDSixHQUFHO1FBQUVOO0tBQWE7SUFFbEIsTUFBTVUsWUFBWTVDLGtEQUFXQSxDQUFDO1FBQzFCdUM7UUFDQUwsWUFBWTtZQUFFUSxNQUFNO1lBQWdCRyxPQUFPO1FBQVE7SUFDdkQsR0FBRztRQUFFWDtRQUFhSztLQUEyQjtJQUU3QyxNQUFNTyxvQkFBb0I5QyxrREFBV0EsQ0FBQztZQUFDLEVBQ0krQyxJQUFJLEVBQ0pDLFVBQVUsRUFDVkMsYUFBYSxFQUM2QztRQUNqRyxJQUFJLENBQUNGLE1BQU07WUFDUDtRQUNKO1FBQ0EsT0FBUUE7WUFDSixLQUFLO29CQUNHRSxvQ0FBQUE7Z0JBQUosSUFBSUEsMEJBQUFBLHFDQUFBQSx5QkFBQUEsY0FBZWQsT0FBTyxjQUF0QmMsOENBQUFBLHFDQUFBQSx1QkFBd0JDLFdBQVcsZ0JBQW5DRCx5REFBQUEsbUNBQXVDRSxRQUFRLENBQUMsMEJBQTBCO29CQUMxRXZELHVFQUFjQSxDQUFDLEdBQThCLE9BQTNCb0QsY0FBYyxjQUFhO2dCQUNqRCxPQUFPO29CQUNIcEQsdUVBQWNBLENBQUMsK0JBQTBELE9BQTNCb0QsY0FBYztnQkFDaEU7Z0JBQ0E7WUFDSixLQUFLO2dCQUNEcEQsdUVBQWNBLENBQUMsZUFBMEMsT0FBM0JvRCxjQUFjO2dCQUM1QztZQUNKLEtBQUs7Z0JBQ0RuRCx5RUFBZ0JBLENBQUMsdUNBQThELE9BQXZCbUQsY0FBYztnQkFDdEU7WUFDSixLQUFLO2dCQUNEcEQsdUVBQWNBLENBQUMsR0FBOEIsT0FBM0JvRCxjQUFjLGNBQWE7Z0JBQzdDO1lBQ0osS0FBSztnQkFDRHBELHVFQUFjQSxDQUFDLEdBQTBDLE9BQXZDb0QsY0FBYywwQkFBeUI7Z0JBQ3pEO1lBQ0osS0FBSztnQkFDRG5ELHlFQUFnQkEsQ0FBQyxvQ0FBK0QsT0FBM0JtRCxjQUFjLGNBQWE7Z0JBQ2hGO1lBQ0osS0FBSztnQkFDRG5ELHlFQUFnQkEsQ0FBQztnQkFDakI7WUFDSixLQUFLO2dCQUNEQSx5RUFBZ0JBLENBQUMsR0FBdUIsT0FBcEJtRCxjQUFjLE9BQU07Z0JBQ3hDO1lBQ0osS0FBSztnQkFDRHBELHVFQUFjQSxDQUFDLGNBQWtDLE9BQXBCb0QsY0FBYyxPQUFNO2dCQUNqRDtZQUNKLEtBQUs7Z0JBQ0RwRCx1RUFBY0EsQ0FBQyxjQUF5QyxPQUEzQm9ELGNBQWM7Z0JBQzNDO1lBQ0osS0FBSztnQkFDRG5ELHlFQUFnQkEsQ0FBQyxpQkFBNEMsT0FBM0JtRCxjQUFjLGNBQWE7Z0JBQzdEO1lBQ0osS0FBSztnQkFDRHBELHVFQUFjQSxDQUFDLDJCQUFzRCxPQUEzQm9ELGNBQWM7Z0JBQ3hEO1lBQ0osS0FBSztnQkFDRCxJQUFJQSxlQUFlLGNBQWM7b0JBQzdCbkQseUVBQWdCQSxDQUFDO2dCQUNyQixPQUFPO29CQUNIQSx5RUFBZ0JBLENBQUMsaUNBQTRELE9BQTNCbUQsY0FBYztnQkFDcEU7Z0JBQ0E7WUFDSjtnQkFDSW5ELHlFQUFnQkEsQ0FBQyxHQUEwQixPQUF2Qm1ELGNBQWMsVUFBUztRQUNuRDtJQUNKLEdBQUcsRUFBRTtJQUVML0MsZ0RBQVNBLENBQUM7UUFDTixJQUFJZ0IsMEJBQTBCO1lBQzFCaUIsWUFBWTtnQkFBRVEsTUFBTTtnQkFBZ0JVLFVBQVVuQztZQUF5QjtZQUN2RUM7UUFDSjtJQUNKLEdBQUc7UUFBRUQ7UUFBMEJpQjtRQUFhaEI7S0FBNEI7SUFFeEVqQixnREFBU0EsQ0FBQztRQUNOMEIsT0FBTzBCLGdCQUFnQixDQUFDLFVBQVVkLDJCQUEyQjtRQUM3RFosT0FBTzBCLGdCQUFnQixDQUFDLFVBQVVkLDJCQUEyQjtRQUM3RCxPQUFPO1lBQ0haLE9BQU8yQixtQkFBbUIsQ0FBQyxVQUFVZiwyQkFBMkI7WUFDaEVaLE9BQU8yQixtQkFBbUIsQ0FBQyxVQUFVZiwyQkFBMkI7UUFDcEU7SUFDSixHQUFHO1FBQUVBO0tBQTJCO0lBRWhDdEMsZ0RBQVNBLENBQUM7UUFDTixNQUFNc0QsZ0JBQWdCLENBQUNDO1lBQ25CLElBQUlBLE1BQU1DLE1BQU0sS0FBS3BELHVCQUF1QjtnQkFDeEM7WUFDSjtZQUNBLElBQUltRCxNQUFNRSxJQUFJLENBQUNoQixJQUFJLEtBQUssU0FBUztnQkFDN0JqQix5QkFBeUI7WUFDN0I7WUFDQSxJQUFJK0IsTUFBTUUsSUFBSSxDQUFDaEIsSUFBSSxLQUFLLGdCQUFnQjtnQkFDcENuQix3QkFBd0JpQyxNQUFNRSxJQUFJLENBQUNDLEtBQUs7WUFDNUM7WUFDQSxJQUFJSCxNQUFNRSxJQUFJLENBQUNoQixJQUFJLEtBQUssV0FBVztnQkFDL0J2QixhQUFhcUMsTUFBTUUsSUFBSSxDQUFDbEQsT0FBTyxFQUFFZ0QsTUFBTUUsSUFBSSxDQUFDMUMsVUFBVTtnQkFDdER1QjtZQUNKO1lBQ0EsSUFBSWlCLE1BQU1FLElBQUksQ0FBQ2hCLElBQUksS0FBSyxZQUFZO29CQUNGYztnQkFBOUJwQyxXQUFXd0MsT0FBTzlELG1EQUFXQSxDQUFDMEQsRUFBQUEsd0JBQUFBLE1BQU1FLElBQUksQ0FBQ0csUUFBUSxDQUFDLEVBQUUsY0FBdEJMLDRDQUFBQSxzQkFBd0JNLE1BQU0sS0FBSTtZQUNwRTtZQUNBLElBQUlOLE1BQU1FLElBQUksQ0FBQ2hCLElBQUksS0FBSyxjQUFjO2dCQUNsQ3ZCLGFBQWEsSUFBSTtnQkFDakJDLFdBQVc7Z0JBQ1htQjtZQUNKO1lBQ0EsSUFBSWlCLE1BQU1FLElBQUksQ0FBQ2hCLElBQUksS0FBSyxlQUFlO2dCQUNuQ3JCLGlCQUFpQjtvQkFDYjBDLFVBQVVQLE1BQU1FLElBQUksQ0FBQ0ssUUFBUSxJQUFJQyxLQUFLQyxLQUFLLENBQUNULE1BQU1FLElBQUksQ0FBQ0ssUUFBUTtvQkFDL0RHLE9BQU9WLE1BQU1FLElBQUksQ0FBQ1EsS0FBSyxJQUFJRixLQUFLQyxLQUFLLENBQUNULE1BQU1FLElBQUksQ0FBQ1EsS0FBSztnQkFDMUQ7WUFDSjtZQUNBLElBQUlWLE1BQU1FLElBQUksQ0FBQ2hCLElBQUksS0FBSyxnQkFBZ0I7Z0JBQ3BDSSxrQkFBa0JrQixLQUFLQyxLQUFLLENBQUNULE1BQU1FLElBQUksQ0FBQ1EsS0FBSyxJQUFJO1lBQ3JEO1FBQ0o7UUFDQXZDLE9BQU8wQixnQkFBZ0IsQ0FBQyxXQUFXRTtRQUNuQyxPQUFPLElBQU01QixPQUFPMkIsbUJBQW1CLENBQUMsV0FBV0M7SUFDdkQsR0FBRztRQUNDWDtRQUNBekI7UUFDQWU7UUFDQWQ7UUFDQW1CO1FBQ0FsQjtRQUNBeUI7S0FDSDtJQUVELHFCQUNJOzswQkFDSSw4REFBQ3FCO2dCQUNHQyxXQUFVO2dCQUNWQyxVQUFVLENBQUM3QztnQkFDWDhDLEtBQUt2RDtnQkFDTHdELFNBQVM7b0JBQ0xoRCx3QkFBd0IsQ0FBQ0Q7b0JBQ3pCaUI7Z0JBQ0o7MEJBRUN2QixhQUFhVCxvQkFBb0JTLGNBQWM7Ozs7OzswQkFFcEQsOERBQUN3RDtnQkFDR0YsS0FBS3hEO2dCQUNMMkQsUUFBUTdCO2dCQUNSOEIsT0FBTztvQkFBRUMsU0FBU3JELHdCQUF3QkksWUFBWSxVQUFVO2dCQUFPO2dCQUN2RWtELE9BQU07Z0JBQ05DLE9BQU07Z0JBQ05ULFdBQVU7Z0JBQ1ZVLEtBQUs5Qzs7Ozs7Ozs7QUFJckI7R0F6TE1uQjs7UUFVRWxCLHVEQUFPQTs7O0tBVlRrQjtBQTJMTiwrREFBZUEsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvY29ubmVjdC13aWRnZXQvY29ubmVjdC13aWRnZXQudHN4P2YyYmYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VHYW1lIH0gZnJvbSAnQC9jb3JlL2dhbWUtY29udGV4dCc7XG5pbXBvcnQgeyBzaG93RXJyb3JUb2FzdCwgc2hvd1dhcm5pbmdUb2FzdCB9IGZyb20gJ0AvY29yZS91dGlscy90b2FzdC11dGlscyc7XG5pbXBvcnQgeyBmb3JtYXRFdGhlciB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9jb25uZWN0LXdpZGdldC5jc3MnO1xuXG5jb25zdCBEWU1FTlNJT05fQ09OTkVDVF9VUkwgPSAnaHR0cHM6Ly90ZXN0bmV0LmR5bWVuc2lvbi54eXonO1xuY29uc3QgRFlNRU5TSU9OX0NPTk5FQ1RfTkVUV09SS19JRFMgPSBbICdkZXNtb3NhaV80MzM1MTktMScgXTtcblxuZXhwb3J0IGNvbnN0IGdldFNob3J0ZW5lZEFkZHJlc3MgPSAoYWRkcmVzczogc3RyaW5nLCBwcmVmaXhMZXR0ZXJzID0gNiwgc3VmZml4TGV0dGVycyA9IDQpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBgJHthZGRyZXNzLnNsaWNlKDAsIHByZWZpeExldHRlcnMpfS4uLiR7YWRkcmVzcy5zbGljZShhZGRyZXNzLmxlbmd0aCAtIHN1ZmZpeExldHRlcnMpfWA7XG59O1xuXG5jb25zdCBDb25uZWN0V2lkZ2V0OiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBpZnJhbWVSZWYgPSB1c2VSZWY8SFRNTElGcmFtZUVsZW1lbnQ+KG51bGwpO1xuICAgIGNvbnN0IGJ1dHRvblJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3Qge1xuICAgICAgICBoZXhBZGRyZXNzLFxuICAgICAgICBjb250cmFjdE1lc3NhZ2VUb0V4ZWN1dGUsXG4gICAgICAgIHNldENvbnRyYWN0TWVzc2FnZUV4ZWN1dGVkLFxuICAgICAgICBzZXRBZGRyZXNzZXMsXG4gICAgICAgIHNldEJhbGFuY2UsXG4gICAgICAgIGhhbmRsZVR4UmVzcG9uc2UsXG4gICAgfSA9IHVzZUdhbWUoKTtcbiAgICBjb25zdCBbIGR5bWVuc2lvbkNvbm5lY3RPcGVuLCBzZXREeW1lbnNpb25Db25uZWN0T3BlbiBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFsgZHltZW5zaW9uQ29ubmVjdFJlYWR5LCBzZXREeW1lbnNpb25Db25uZWN0UmVhZHkgXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGNvbnN0IHFyQWNjb3VudCA9IHVzZU1lbW8oKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT1cbiAgICAgICAgJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3c/LmxvY2F0aW9uLnNlYXJjaCkuZ2V0KCdxckFjY291bnQnKSwgW10pO1xuXG4gICAgY29uc3QgZHltZW5zaW9uQ29ubmVjdFVybCA9IHVzZU1lbW8oXG4gICAgICAgICgpID0+IGAke0RZTUVOU0lPTl9DT05ORUNUX1VSTH0vY29ubmVjdGAgK1xuICAgICAgICAgICAgYCR7cXJBY2NvdW50ID8gYC9hY2NvdW50LyR7cXJBY2NvdW50fWAgOiAnJ30/bmV0d29ya0lkcz0ke0RZTUVOU0lPTl9DT05ORUNUX05FVFdPUktfSURTLmpvaW4oJywnKX1gLFxuICAgICAgICBbIHFyQWNjb3VudCBdLFxuICAgICk7XG5cbiAgICBjb25zdCBzZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBhbnkpID0+XG4gICAgICAgIGlmcmFtZVJlZi5jdXJyZW50Py5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShtZXNzYWdlLCBEWU1FTlNJT05fQ09OTkVDVF9VUkwpLCBbXSk7XG5cbiAgICBjb25zdCB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBidXR0b25SZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChib3VuZGluZ1JlY3QpIHtcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogJ3NldFRyaWdnZXJCb3VuZGluZ1JlY3QnLCByZWN0OiBib3VuZGluZ1JlY3QgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbIHNlbmRNZXNzYWdlIF0pO1xuXG4gICAgY29uc3QgaW5pdE1vZGFsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0KCk7XG4gICAgICAgIHNlbmRNZXNzYWdlKHsgdHlwZTogJ3NldE1lbnVBbGlnbicsIGFsaWduOiAncmlnaHQnIH0pO1xuICAgIH0sIFsgc2VuZE1lc3NhZ2UsIHVwZGF0ZVRyaWdnZXJCb3VuZGluZ1JlY3QgXSk7XG5cbiAgICBjb25zdCBoYW5kbGVXYWxsZXRFcnJvciA9IHVzZUNhbGxiYWNrKCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTogeyBjb2RlPzogc3RyaW5nLCB3YWxsZXRUeXBlPzogc3RyaW5nLCBvcmlnaW5hbEVycm9yPzogYW55IH0pID0+IHtcbiAgICAgICAgaWYgKCFjb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdGQUlMRURfSU5URUdSQVRFX0NIQUlOJzpcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxFcnJvcj8ubWVzc2FnZT8udG9Mb3dlckNhc2UoKT8uaW5jbHVkZXMoJ2xlZGdlciBpcyB1bnN1cHBvcnRlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvclRvYXN0KGAke3dhbGxldFR5cGUgfHwgJ1RoZSB3YWxsZXQnfSBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRpbmcgdGhpcyBjaGFpbiB3aXRoIExlZGdlci5gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JUb2FzdChgRmFpbGVkIGludGVncmF0ZSBjaGFpbiB3aXRoICR7d2FsbGV0VHlwZSB8fCAndGhlIHdhbGxldCd9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRkFJTEVEX0lOSVRfV0FMTEVUJzpcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JUb2FzdChgRmFpbGVkIGluaXQgJHt3YWxsZXRUeXBlIHx8ICd0aGUgd2FsbGV0J31gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0tFWV9OT1RfRk9VTkQnOlxuICAgICAgICAgICAgICAgIHNob3dXYXJuaW5nVG9hc3QoYENyZWF0ZSBvciBpbXBvcnQgYW4gYWNjb3VudCBpbiB5b3VyICR7d2FsbGV0VHlwZSB8fCAnd2FsbGV0J31gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ05PX09GRkxJTkVfU0lHTkVSJzpcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JUb2FzdChgJHt3YWxsZXRUeXBlIHx8ICdUaGUgd2FsbGV0J30gYWNjb3VudCBub3QgZGV0ZWN0ZWRgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VOU1VQUE9SVEVEX1dBTExFVCc6XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yVG9hc3QoYCR7d2FsbGV0VHlwZSB8fCAnVGhlIHNlbGVjdGVkIHdhbGxldCBpcyd9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VQR1JBREVfV0FMTEVUJzpcbiAgICAgICAgICAgICAgICBzaG93V2FybmluZ1RvYXN0KGBQbGVhc2UgdXNlIHRoZSByZWNlbnQgdmVyc2lvbiBvZiAke3dhbGxldFR5cGUgfHwgJ3RoZSB3YWxsZXQnfSBleHRlbnNpb25gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dBTExFVF9OT1RfQ09OTkVDVEVEJzpcbiAgICAgICAgICAgICAgICBzaG93V2FybmluZ1RvYXN0KCdObyB3YWxsZXQgY29ubmVjdGVkIGZvciB0aGlzIGNoYWluJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdJTlNUQUxMX1dBTExFVCc6XG4gICAgICAgICAgICAgICAgc2hvd1dhcm5pbmdUb2FzdChgJHt3YWxsZXRUeXBlIHx8ICdUaGUnfSB3YWxsZXQgbm90IGluc3RhbGxlZGApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVU5TVVBQT1JURURfTkVUV09SSyc6XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yVG9hc3QoYENhbid0IGxpbmsgJHt3YWxsZXRUeXBlIHx8ICd0aGUnfSB3YWxsZXQgdG8gdGhlIGRlc2lnbmF0ZWQgbmV0d29ya2ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQUNDT1VOVFNfQUxSRUFEWV9SRVFVRVNURUQnOlxuICAgICAgICAgICAgICAgIHNob3dFcnJvclRvYXN0KGBDb25uZWN0IHRvICR7d2FsbGV0VHlwZSB8fCAndGhlIHdhbGxldCd9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSRVFVRVNUX1JFSkVDVEVEJzpcbiAgICAgICAgICAgICAgICBzaG93V2FybmluZ1RvYXN0KGBDb25uZWN0aW5nIHRvICR7d2FsbGV0VHlwZSB8fCAndGhlIHdhbGxldCd9IHJlamVjdGVkIGJ5IHRoZSB1c2VyYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTV0lUQ0hfTkVUV09SSyc6XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yVG9hc3QoYFN3aXRjaCB0byB0aGlzIGNoYWluIGluICR7d2FsbGV0VHlwZSB8fCAndGhlIHdhbGxldCd9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVTlNVUFBPUlRFRF9NRVNTQUdFJzpcbiAgICAgICAgICAgICAgICBpZiAod2FsbGV0VHlwZSA9PT0gJ1F1aWNrIEF1dGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dXYXJuaW5nVG9hc3QoJ1F1aWNrIEF1dGggc2Vzc2lvbiBoYXMgZXhwaXJlZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dXYXJuaW5nVG9hc3QoYFRoaXMgbWVzc2FnZSBub3Qgc3VwcG9ydGVkIGJ5ICR7d2FsbGV0VHlwZSB8fCAndGhlIHdhbGxldCd9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzaG93V2FybmluZ1RvYXN0KGAke3dhbGxldFR5cGUgfHwgJ1dhbGxldCd9IGNvbm5lY3Rpb24gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyYCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoY29udHJhY3RNZXNzYWdlVG9FeGVjdXRlKSB7XG4gICAgICAgICAgICBzZW5kTWVzc2FnZSh7IHR5cGU6ICdleGVjdXRlRXRoVHgnLCBjb250cmFjdDogY29udHJhY3RNZXNzYWdlVG9FeGVjdXRlIH0pO1xuICAgICAgICAgICAgc2V0Q29udHJhY3RNZXNzYWdlRXhlY3V0ZWQoKTtcbiAgICAgICAgfVxuICAgIH0sIFsgY29udHJhY3RNZXNzYWdlVG9FeGVjdXRlLCBzZW5kTWVzc2FnZSwgc2V0Q29udHJhY3RNZXNzYWdlRXhlY3V0ZWQgXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlVHJpZ2dlckJvdW5kaW5nUmVjdCwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0LCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0LCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbIHVwZGF0ZVRyaWdnZXJCb3VuZGluZ1JlY3QgXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVNZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW4gIT09IERZTUVOU0lPTl9DT05ORUNUX1VSTCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdyZWFkeScpIHtcbiAgICAgICAgICAgICAgICBzZXREeW1lbnNpb25Db25uZWN0UmVhZHkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnbWVudS12aXNpYmxlJykge1xuICAgICAgICAgICAgICAgIHNldER5bWVuc2lvbkNvbm5lY3RPcGVuKGV2ZW50LmRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ2Nvbm5lY3QnKSB7XG4gICAgICAgICAgICAgICAgc2V0QWRkcmVzc2VzKGV2ZW50LmRhdGEuYWRkcmVzcywgZXZlbnQuZGF0YS5oZXhBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVUcmlnZ2VyQm91bmRpbmdSZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnYmFsYW5jZXMnKSB7XG4gICAgICAgICAgICAgICAgc2V0QmFsYW5jZShOdW1iZXIoZm9ybWF0RXRoZXIoZXZlbnQuZGF0YS5iYWxhbmNlc1swXT8uYW1vdW50IHx8ICcwJykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdkaXNjb25uZWN0Jykge1xuICAgICAgICAgICAgICAgIHNldEFkZHJlc3NlcygnJywgJycpO1xuICAgICAgICAgICAgICAgIHNldEJhbGFuY2UoMCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlVHJpZ2dlckJvdW5kaW5nUmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ3R4LXJlc3BvbnNlJykge1xuICAgICAgICAgICAgICAgIGhhbmRsZVR4UmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZXZlbnQuZGF0YS5yZXNwb25zZSAmJiBKU09OLnBhcnNlKGV2ZW50LmRhdGEucmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXZlbnQuZGF0YS5lcnJvciAmJiBKU09OLnBhcnNlKGV2ZW50LmRhdGEuZXJyb3IpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ3dhbGxldC1lcnJvcicpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVXYWxsZXRFcnJvcihKU09OLnBhcnNlKGV2ZW50LmRhdGEuZXJyb3IgfHwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlKTtcbiAgICB9LCBbXG4gICAgICAgIGluaXRNb2RhbCxcbiAgICAgICAgc2V0QWRkcmVzc2VzLFxuICAgICAgICBzZW5kTWVzc2FnZSxcbiAgICAgICAgc2V0QmFsYW5jZSxcbiAgICAgICAgdXBkYXRlVHJpZ2dlckJvdW5kaW5nUmVjdCxcbiAgICAgICAgaGFuZGxlVHhSZXNwb25zZSxcbiAgICAgICAgaGFuZGxlV2FsbGV0RXJyb3IsXG4gICAgXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnV0dG9uIGNvbm5lY3Qtd2FsbGV0LWJ1dHRvbidcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWR5bWVuc2lvbkNvbm5lY3RSZWFkeX1cbiAgICAgICAgICAgICAgICByZWY9e2J1dHRvblJlZn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldER5bWVuc2lvbkNvbm5lY3RPcGVuKCFkeW1lbnNpb25Db25uZWN0T3Blbik7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRyaWdnZXJCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtoZXhBZGRyZXNzID8gZ2V0U2hvcnRlbmVkQWRkcmVzcyhoZXhBZGRyZXNzKSA6ICdDb25uZWN0IFdhbGxldCd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxpZnJhbWVcbiAgICAgICAgICAgICAgICByZWY9e2lmcmFtZVJlZn1cbiAgICAgICAgICAgICAgICBvbkxvYWQ9e2luaXRNb2RhbH1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBkeW1lbnNpb25Db25uZWN0T3BlbiB8fCBxckFjY291bnQgPyAnYmxvY2snIDogJ25vbmUnIH19XG4gICAgICAgICAgICAgICAgYWxsb3c9J2NsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGU7IGNhbWVyYSdcbiAgICAgICAgICAgICAgICB0aXRsZT0nZHltZW5zaW9uLWNvbm5lY3QnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdkeW1lbnNpb24tY29ubmVjdC1pZnJhbWUnXG4gICAgICAgICAgICAgICAgc3JjPXtkeW1lbnNpb25Db25uZWN0VXJsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3RXaWRnZXQ7XG4iXSwibmFtZXMiOlsidXNlR2FtZSIsInNob3dFcnJvclRvYXN0Iiwic2hvd1dhcm5pbmdUb2FzdCIsImZvcm1hdEV0aGVyIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkRZTUVOU0lPTl9DT05ORUNUX1VSTCIsIkRZTUVOU0lPTl9DT05ORUNUX05FVFdPUktfSURTIiwiZ2V0U2hvcnRlbmVkQWRkcmVzcyIsImFkZHJlc3MiLCJwcmVmaXhMZXR0ZXJzIiwic3VmZml4TGV0dGVycyIsInNsaWNlIiwibGVuZ3RoIiwiQ29ubmVjdFdpZGdldCIsImlmcmFtZVJlZiIsImJ1dHRvblJlZiIsImhleEFkZHJlc3MiLCJjb250cmFjdE1lc3NhZ2VUb0V4ZWN1dGUiLCJzZXRDb250cmFjdE1lc3NhZ2VFeGVjdXRlZCIsInNldEFkZHJlc3NlcyIsInNldEJhbGFuY2UiLCJoYW5kbGVUeFJlc3BvbnNlIiwiZHltZW5zaW9uQ29ubmVjdE9wZW4iLCJzZXREeW1lbnNpb25Db25uZWN0T3BlbiIsImR5bWVuc2lvbkNvbm5lY3RSZWFkeSIsInNldER5bWVuc2lvbkNvbm5lY3RSZWFkeSIsInFyQWNjb3VudCIsIndpbmRvdyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwiZ2V0IiwiZHltZW5zaW9uQ29ubmVjdFVybCIsImpvaW4iLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJjdXJyZW50IiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwidXBkYXRlVHJpZ2dlckJvdW5kaW5nUmVjdCIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInR5cGUiLCJyZWN0IiwiaW5pdE1vZGFsIiwiYWxpZ24iLCJoYW5kbGVXYWxsZXRFcnJvciIsImNvZGUiLCJ3YWxsZXRUeXBlIiwib3JpZ2luYWxFcnJvciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJjb250cmFjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlTWVzc2FnZSIsImV2ZW50Iiwib3JpZ2luIiwiZGF0YSIsInZhbHVlIiwiTnVtYmVyIiwiYmFsYW5jZXMiLCJhbW91bnQiLCJyZXNwb25zZSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiYnV0dG9uIiwiY2xhc3NOYW1lIiwiZGlzYWJsZWQiLCJyZWYiLCJvbkNsaWNrIiwiaWZyYW1lIiwib25Mb2FkIiwic3R5bGUiLCJkaXNwbGF5IiwiYWxsb3ciLCJ0aXRsZSIsInNyYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/connect-widget/connect-widget.tsx\n"));

/***/ })

});